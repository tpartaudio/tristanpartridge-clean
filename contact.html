<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact - Tristan Partridge</title>
  <meta name="description" content="Contact Tristan Partridge - Music & Sound Design">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <style>
    :root { --logo-height: 85px; }
    body { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; background:#fff; color:#111; transition: all .6s; }
    .dark { background:#000; color:#fff; }
    .nav-container { backdrop-filter: blur(60px) saturate(180%); background: rgba(255,255,255,0.85); transition: transform 0.6s cubic-bezier(.22,1,.36,1); padding: 1.5rem 2rem; }
    .dark .nav-container { background: rgba(0,0,0,0.85); }
    .nav-container.hidden { transform: translateY(-100%); }
    .logo-container { position: absolute; left: 2rem; top: 1.5rem; }
    #logo { height: var(--logo-height); cursor:pointer; transition: transform .2s; transform: translateY(-18px); }
    #logo:hover { transform: scale(1.08) translateY(-18px); }
    .nav-links { position: relative; display: flex; gap: 40px; margin-left: auto; }
    .nav-link { font-weight: 600; padding: 8px 0; position: relative; z-index: 2; }
    .underline { position: absolute; bottom: 4px; left: 0; height: 2px; background: #000; transition: all .22s cubic-bezier(.4,0,.2,1); }
    .dark .underline { background:#fff; }
    .contact-content { max-width:900px; margin:0 auto; padding:2rem; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; gap:2.2rem; text-align:center; }
    .invite-text { font-weight:700; font-size:1.8rem; line-height:1.4; opacity:0; transform:translateY(-30px); }
    .email-container { display:flex; align-items:center; justify-content:center; gap:1rem; font-size:1.65rem; font-weight:500; opacity:0; transform:translateY(20px); }
    .email-link { color:inherit; text-decoration:none; transition: transform .18s cubic-bezier(.25,.8,.25,1); }
    .email-link:hover { transform: scale(1.04); }
    .copy-btn { background:none; border:none; cursor:pointer; opacity:0.7; transition: opacity .18s, transform .18s cubic-bezier(.25,.8,.25,1); position:relative; }
    .copy-btn svg { stroke:#111; transition: stroke .3s; }
    .dark .copy-btn svg { stroke:#fff; }
    .copy-btn:hover { opacity:1; transform:scale(1.1); }
    .copy-feedback { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; opacity:0; }
    .social-links { display:flex; gap:1.8rem; justify-content:center; opacity:0; transform:translateY(20px); }
  </style>
</head>
<body class="light min-h-screen flex flex-col">
  <nav class="nav-container fixed top-0 left-0 right-0 z-50 flex items-start justify-between">
    <div class="logo-container"><img id="logo" src="4.png" alt="logo" onclick="window.location.href='index.html'"></div>
    <div class="hidden md:flex nav-links text-lg font-medium">
      <a href="index.html" class="nav-link" data-page="works">Works</a>
      <a href="about.html" class="nav-link" data-page="about">About</a>
      <a href="contact.html" class="nav-link active" data-page="contact">Contact</a>
      <div class="underline" id="underline"></div>
    </div>
    <button id="hamburger" class="md:hidden space-y-2 z-50">
      <span class="block w-8 h-1 bg-black dark:bg-white"></span>
      <span class="block w-8 h-1 bg-black dark:bg-white"></span>
      <span class="block w-8 h-1 bg-black dark:bg-white"></span>
    </button>
  </nav>
  <nav id="mobile-menu" class="fixed inset-0 bg-white dark:bg-black hidden flex-col items-center justify-center gap-12 text-4xl z-40">
    <a href="index.html">Works</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
  </nav>
  <main class="flex-1 flex items-center justify-center">
    <section class="contact-content">
      <p class="invite-text">Feel free to get in touch for any projects or collaborations.</p>
      <div class="email-container">
        <a href="mailto:tpartaudio@gmail.com" class="email-link">tpartaudio@gmail.com</a>
        <button class="copy-btn" id="copy-btn">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
          <div class="copy-feedback">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="3">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </div>
        </button>
      </div>
      <div class="social-links">
        <a href="https://www.instagram.com/tristanpartridge/" target="_blank"><img id="insta-logo" src="insta logo.png" alt="Instagram" class="w-11 h-11 hover:scale-110 transition"></a>
        <a href="https://www.behance.net/tristanpartrid1" target="_blank"><img id="behance-logo" src="behance logo.png" alt="Behance" class="w-11 h-11 hover:scale-110 transition"></a>
      </div>
    </section>
  </main>
  <script>
    gsap.registerPlugin(ScrollTrigger);
    const sound = new Howl({ src:['https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3'], volume:0.3 });

    fetch('config.json').then(r=>r.json()).then(cfg=>{
      if(document.getElementById('logo')&&cfg.logo) document.getElementById('logo').src=cfg.logo;
      if(document.getElementById('insta-logo')&&cfg.instagram_logo) document.getElementById('insta-logo').src=cfg.instagram_logo;
      if(document.getElementById('behance-logo')&&cfg.behance_logo) document.getElementById('behance-logo').src=cfg.behance_logo;
    }).catch(()=>{});

    // -------- NAVBAR UNDERLINE ANIMATION (from works) --------
    const underline = document.getElementById('underline');
    const links = document.querySelectorAll('.nav-link');
    let currentTarget = document.querySelector('[data-page="contact"]') || links[0];
    links.forEach(l=>l.classList.remove('active'));
    if(currentTarget) currentTarget.classList.add('active');

    function setUnderlineInstant(target){
      if(!target||!underline) return;
      underline.style.transform='none';
      underline.style.transition='none';
      const linkRect=target.getBoundingClientRect();
      const containerRect=target.parentElement.getBoundingClientRect();
      underline.style.left=(linkRect.left-containerRect.left)+'px';
      underline.style.width=linkRect.width+'px';
      void underline.offsetHeight;
      underline.style.transition='';
    }

    function moveUnderline(target, animate=true){
      if(!target||!underline) return;
      gsap.set(underline,{clearProps:"transform, x, xPercent"});
      const linkRect=target.getBoundingClientRect();
      const containerRect=target.parentElement.getBoundingClientRect();
      const leftPx=linkRect.left-containerRect.left;
      const widthPx=linkRect.width;
      if(!animate){
        underline.style.left=leftPx+'px';
        underline.style.width=widthPx+'px';
      } else {
        gsap.to(underline,{ left:leftPx+'px', width:widthPx, duration:0.02, ease:"power2.out", overwrite:"auto" });
      }
    }

    window.addEventListener('load',()=>{
      setUnderlineInstant(currentTarget);
      gsap.fromTo(underline,{scaleX:0.98, transformOrigin:"center center"},{scaleX:1,duration:0.05,ease:"elastic.out(1,0.5)",repeat:0,onComplete:()=>{gsap.set(underline,{clearProps:"transform, scaleX"});}});
    });

    links.forEach(link=>{
      link.addEventListener('mouseenter',()=>moveUnderline(link,true));
      link.addEventListener('mouseleave',()=>moveUnderline(currentTarget,true));
      link.addEventListener('click',()=>{
        links.forEach(l=>l.classList.remove('active'));
        link.classList.add('active');
        currentTarget=link;
        setUnderlineInstant(currentTarget);
        sound.play();
      });
    });

    window.addEventListener('resize',()=>{ clearTimeout(window._navResizeTimer); window._navResizeTimer=setTimeout(()=>{ setUnderlineInstant(currentTarget); },80); });

    // MOBILE MENU
    document.getElementById('hamburger').addEventListener('click',()=>{ document.getElementById('mobile-menu').classList.toggle('hidden'); sound.play(); });

    // CONTACT PAGE ANIMATION
    gsap.timeline()
      .to('.invite-text',{opacity:1,y:0,duration:0.7,ease:"power2.out"})
      .to('.email-container',{opacity:1,y:0,duration:0.7,ease:"power2.out"},"-=0.4")
      .to('.social-links',{opacity:1,y:0,duration:0.7,ease:"power2.out"},"-=0.4");

    // COPY EMAIL BUTTON
    const copyBtn=document.getElementById('copy-btn');
    if(copyBtn){
      const feedback=copyBtn.querySelector('.copy-feedback');
      copyBtn.addEventListener('click',()=>{
        navigator.clipboard.writeText('tpartaudio@gmail.com').catch(()=>{});
        sound.play();
        gsap.timeline()
          .to(copyBtn.querySelector('svg'),{opacity:0,scale:0.3,duration:0.15,ease:"power2.in"})
          .to(feedback,{opacity:1,scale:1,duration:0.22,ease:"elastic.out(2.4,0.16)"},"-=0.1")
          .to(feedback,{opacity:0,scale:0.3,duration:0.2,delay:0.8,ease:"power2.in"})
          .to(copyBtn.querySelector('svg'),{opacity:1,scale:1,duration:0.2,ease:"power2.out"},"-=0.2");
      });
    }
  </script>
<!-- Bottom-left copyright – 100% INVISIBLE on load, appears ONLY at bottom -->
<div id="bottom-copyright" class="fixed bottom-6 left-8 text-xs text-gray-400 dark:text-gray-500 select-none font-light tracking-wider z-50 pointer-events-none" style="opacity:0 !important; visibility:hidden;">
  © <script>document.write(new Date().getFullYear())</script> Tristan Partridge
</div>

<script>
  (function () {
    const el = document.getElementById('bottom-copyright');
    let shown = false;

    const check = () => {
      const nearBottom = (window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 100);
      if (nearBottom && !shown) {
        shown = true;
        el.style.visibility = 'visible';
        gsap.to(el, { opacity: 1, duration: 0.8, ease: "power2.out" });
      } else if (!nearBottom && shown) {
        shown = false;
        gsap.to(el, {
          opacity: 0,
          duration: 0.1,
          ease: "power2.in",
          onComplete: () => el.style.visibility = 'hidden'
        });
      }
    };

    // Run on every scroll
    window.addEventListener('scroll', check);
    // Run once after everything is painted
    window.addEventListener('load', check);
    // Extra safety for fast browsers
    requestAnimationFrame(check);
  })();
</script>
</body>
</html>
